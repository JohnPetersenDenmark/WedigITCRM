@model NoteShowViewModel


<div class="formcontainer">

    <form enctype="multipart/form-data" method="post" class="mt-3">
        <div class="form-group row">
            <div class="col-sm-10">
                <label asp-for="@Model.Date" class="col-form-label">Emne</label>
                <input asp-for=@Model.Date readonly class="form-control" id="datetimepicker">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <label asp-for="@Model.Subject" class="col-form-label">Emne</label>
                <input asp-for="@Model.Subject" class="form-control" readonly>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <label asp-for=@Model.Comment class="col-form-label">Beskrivelse</label>
                @Html.TextArea("Comment", new { @class = "form-control",@readonly = "readonly", rows=3, columns=40})
            </div>
        </div>

        @if (Model.AttachedmentIds != null)
        {
            List<string> ExistingAttachedmentList = Model.AttachedmentIds;
            List<string> ExistingAttachedFilesNameAndPathList = Model.AttachedFilesNameAndPath;
            List<string> ExistingFileNamesOnlyList = Model.FileNamesOnly;
            List<string> ExistingIconsFilePathAndNameList = Model.IconsFilePathAndName;
            var index = 0;

            @foreach (var AttachedmentId in Model.AttachedmentIds)
            {
                <div class="form-group row">
                    <div class="col-sm-10">
                        <img src="@ExistingIconsFilePathAndNameList[index]" height="42" width="42" />
                    </div>
                    <div class="col-sm-10">
                        <a asp-controller="note" asp-action="openAttachment" asp-route-id="@AttachedmentId">Åben dokument</a>
                    </div>
                    <div class="col-sm-10">
                        <a asp-controller="note" asp-action="downloadAttachment" asp-route-id="@AttachedmentId">Gem dokument på disk</a>
                    </div>
                    <div class="col-sm-10">
                        <a asp-controller="note" asp-action="deleteAttachment" asp-route-id="@AttachedmentId">Slet dokument</a>
                    </div>
                </div>
                index++;
            }
        }

        <div class="form-group row">
            <div class="col-sm-2">
                <a asp-controller="note" asp-action="NoteEdit" asp-route-id="@Model.Id" class="btn btn-outline-secondary btn-sm">Rediger</a>
            </div>
            <div class="col-sm-2">
                <a asp-controller="note" asp-action="NoteDelete" asp-route-id="@Model.Id" class="btn btn-outline-secondary btn-sm">Slet notat</a>
            </div>
            <div class="col-sm-2">
                <a asp-controller="note" asp-action="index" asp-route-id="@Model.Id" class="btn btn-outline-secondary btn-sm">Tilbage</a>
            </div>
        </div>
        <input asp-for=@Model.FileNamesOnly hidden />
        <input asp-for=@Model.Id hidden />
    </form>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {


        });

    </script>
}