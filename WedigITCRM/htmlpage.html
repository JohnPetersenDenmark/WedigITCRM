<!DOCTYPE HTML>
<html>
<head>
    <style>
        .periodcontainerline {
            width: 300px;
            height: 30px;
            border: 1px solid black;
        }

        .periodcontainer {
            width: 300px;
            height: 200px;
            scrollbar-face-color: limegreen;
            overflow: auto;
            border: 1px solid black;
        }

        .itemline {
            width: 100px;
            height: 30px;
            border: 1px solid black;
        }
    </style>
    <script>
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function dragStockItemLine(ev) {
            ev.dataTransfer.setData("text", ev.target.id + "|" + "1");
        }

        function dragPeriodLineLine(ev) {
            ev.dataTransfer.setData("text", ev.target.id + "|" + "0");
        }

        function drop(ev) {
            ev.preventDefault();

            var data = ev.dataTransfer.getData("text");
            var dataArray = data.split("|");

            if (ev.ctrlKey && dataArray[1] != "1") {               
                    var nodeCopy = document.getElementById(dataArray[0]).cloneNode(true);
                    nodeCopy.id = "newId"; /* We cannot use the same ID */
                    ev.target.appendChild(nodeCopy);                
            }
            else {

                var sourceDiv = document.getElementById(dataArray[0]);
                sourceDiv.removeAttribute("ondragstart");
                sourceDiv.setAttribute("ondragstart", "dragPeriodLineLine(event)")

                var periodcontainerDivId = ev.target.getAttribute("id");
                sourceDiv.innerHTML = sourceDiv.innerHTML + '<label>Antal</label><input type="text" name="Quantity">';               
                sourceDiv.innerHTML = sourceDiv.innerHTML + '<label>periode div id</label><input type="text" name="periodeDivId" value="' + periodcontainerDivId  + '">';
                ev.target.appendChild(sourceDiv);
            }
        }
    </script>
</head>
<body>

    <h2>Drag and Drop</h2>
    <p>Drag the image back and forth between the two div elements.</p>


    <div id="Item1" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">
        <label>Vare</label>
        <input type="text" name="stockItemName" value="testvare3" readonly>
        <label>Varenummer</label>
        <input type="text" name="stockItemNumber" value="100-tst3" readonly>
        <label>VareId</label>
        <input type="text" name="Id" value="Item1" readonly>
    </div>

    <div id="Item2" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">
    Item2
    </div>
    <div id="Item3" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item3</div>
    <div id="Item4" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item4</div>
    <div id="Item5" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item5</div>
    <div id="Item6" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item6</div>
    <div id="Item7" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item7</div>
    <div id="Item8" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item8</div>
    <div id="Item9" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item9</div>
    <div id="Item10" draggable="true" ondragstart="dragStockItemLine(event)" class="itemline">Item10</div>

    <br />
    <br />
    <br />

    <div id="jan" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">Januar</div>
    <div id="feb" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">Februar</div>
    <div id="marts" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">Marts</div>
    <div id="april" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">April</div>
    <div id="Maj" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">Maj</div>
    <div id="Juni" ondrop="drop(event)" ondragover="allowDrop(event)" class="periodcontainer">Juni</div>

</body>
</html>
